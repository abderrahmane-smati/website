<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Marquee Slider ‚Äì Version G√©n√©rique</title>
    <style>
        :root {
            --img-width: 300px;
            --gap: 16px;
        }

        body {
            font-family: system-ui, Arial;
            padding: 30px;
            background: #f7f7f7;
        }

        .slider-wrapper {
            max-width: 1000px;
            margin: 0 auto 50px auto;
            position: relative;
        }

        .window {
            width: 100%;
            overflow: hidden;
            border-radius: 12px;
            background: #fff;
        }

        .marquee {
            display: inline-flex;
            align-items: center;
            will-change: transform, scroll-left;
        }

        .marquee img {
            width: var(--img-width);
            margin: 0 calc(var(--gap) / 2);
            border-radius: 10px;
            flex-shrink: 0;
            cursor: pointer;
            transition: transform .28s ease, box-shadow .28s ease;
        }

        /* Zoom uniquement si le slider est en pause */
        .window.paused img:hover {
            transform: scale(1.08);
            box-shadow: 0 8px 18px rgba(0, 0, 0, .2);
        }

        /* Boutons style Bootstrap */
        .control {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: none;
            background: rgba(0, 0, 0, .55);
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 20;
            transition: background .2s;
        }

        .control:hover {
            background: rgba(0, 0, 0, .8);
        }

        .control:active {
            transform: translateY(-50%) scale(.96);
        }

        .prev {
            left: 8px;
        }

        .next {
            right: 8px;
        }

        /* Masque la scrollbar */
        .window::-webkit-scrollbar {
            display: none;
        }

        .window {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body>

    <h2>Slider 1 ‚Äì Grand, rapide</h2>
    <div class="slider-wrapper" id="slider1">
        <div class="window">
            <div class="marquee">
                <img src="https://picsum.photos/id/1011/600/400" data-link="https://unsplash.com/photos/1011">
                <img src="https://picsum.photos/id/1012/600/400" data-link="https://unsplash.com/photos/1012">
                <img src="https://picsum.photos/id/1013/600/400" data-link="https://unsplash.com/photos/1013">
                <img src="https://picsum.photos/id/1015/600/400" data-link="https://unsplash.com/photos/1015">
                <img src="https://picsum.photos/id/1016/600/400" data-link="https://unsplash.com/photos/1016">
                <img src="https://picsum.photos/id/1018/600/400" data-link="https://unsplash.com/photos/1018">
            </div>
        </div>
        <button class="control prev" aria-label="Pr√©c√©dent">&#10094;</button>
        <button class="control next" aria-label="Suivant">&#10095;</button>
    </div>

    <h2>Slider 2 ‚Äì Plus petit et plus lent</h2>
    <div class="slider-wrapper" id="slider2">
        <div class="window">
            <div class="marquee">
                <img src="https://picsum.photos/id/1021/600/400">
                <img src="https://picsum.photos/id/1024/600/400">
                <img src="https://picsum.photos/id/1035/600/400">
                <img src="https://picsum.photos/id/1039/600/400">
            </div>
        </div>
        <button class="control prev" aria-label="Pr√©c√©dent">&#10094;</button>
        <button class="control next" aria-label="Suivant">&#10095;</button>
    </div>

    <script>
        function initMarqueeSlider(selector, options = {}) {
            const root = document.querySelector(selector);
            if (!root) return;

            const windowEl = root.querySelector('.window');
            const marquee = root.querySelector('.marquee');
            const prevBtn = root.querySelector('.prev');
            const nextBtn = root.querySelector('.next');

            // options avec valeurs par d√©faut
            const speed = options.speed || 80; // px/sec
            const imgWidth = options.imgWidth || 300; // px
            const gap = options.gap || 16; // px
            const resumeDelay = options.resumeDelay || 500; // ms apr√®s clic

            // applique les variables CSS au slider
            root.style.setProperty('--img-width', imgWidth + 'px');
            root.style.setProperty('--gap', gap + 'px');

            // duplique le contenu pour boucle infinie
            marquee.innerHTML += marquee.innerHTML;

            // attend que les images se chargent avant d'initialiser
            const imgs = Array.from(marquee.querySelectorAll('img'));
            const whenLoaded = imgs.map(img => new Promise(res => {
                if (img.complete) return res();
                img.onload = img.onerror = res;
            }));

            Promise.all(whenLoaded).then(() => {
                let pxPerMs = speed / 1000;
                let lastTime = performance.now();
                let isPaused = false;
                const pauseReasons = { hover: false, btnHover: false, manual: false };

                const halfWidth = () => marquee.scrollWidth / 2;

                function updatePause() {
                    isPaused = Object.values(pauseReasons).some(Boolean);
                    windowEl.classList.toggle('paused', isPaused);
                }

                function step(now) {
                    const dt = now - lastTime;
                    lastTime = now;
                    if (!isPaused) {
                        windowEl.scrollLeft += pxPerMs * dt;
                        if (windowEl.scrollLeft >= halfWidth())
                            windowEl.scrollLeft -= halfWidth();
                    }
                    requestAnimationFrame(step);
                }
                requestAnimationFrame(step);

                // hover -> pause
                windowEl.addEventListener('mouseenter', () => { pauseReasons.hover = true; updatePause(); });
                windowEl.addEventListener('mouseleave', () => { pauseReasons.hover = false; updatePause(); });

                [prevBtn, nextBtn].forEach(btn => {
                    btn.addEventListener('mouseenter', () => { pauseReasons.btnHover = true; updatePause(); });
                    btn.addEventListener('mouseleave', () => { pauseReasons.btnHover = false; updatePause(); });
                });

                function computeStep() {
                    const firstImg = marquee.querySelector('img');
                    const style = getComputedStyle(firstImg);
                    return firstImg.offsetWidth + parseFloat(style.marginLeft) + parseFloat(style.marginRight);
                }

                function manualScroll(direction) {
                    pauseReasons.manual = true;
                    updatePause();
                    const stepPx = computeStep();
                    const target = direction === 'next' ? windowEl.scrollLeft + stepPx : windowEl.scrollLeft - stepPx;
                    windowEl.scrollTo({ left: target, behavior: 'smooth' });
                    setTimeout(() => {
                        pauseReasons.manual = false;
                        updatePause();
                        if (windowEl.scrollLeft >= halfWidth()) windowEl.scrollLeft -= halfWidth();
                        if (windowEl.scrollLeft < 0) windowEl.scrollLeft += halfWidth();
                    }, resumeDelay);
                }

                prevBtn.addEventListener('click', () => manualScroll('prev'));
                nextBtn.addEventListener('click', () => manualScroll('next'));

                // clic image => lien
                marquee.querySelectorAll('img').forEach(img => {
                    img.addEventListener('click', () => {
                        if (img.dataset.link) window.open(img.dataset.link, '_blank');
                    });
                });
            });
        }

        // Initialisation de plusieurs sliders avec des options diff√©rentes
        initMarqueeSlider('#slider1', { speed: 100, imgWidth: 280, gap: 20 });
        initMarqueeSlider('#slider2', { speed: 40, imgWidth: 200, gap: 10 });
    </script>

</body>

</html>



<!-- ^ 
L‚Äôexemple est assez flexible, tu peux le personnaliser sans trop toucher √† la logique.
Voici **tous les param√®tres et options que tu peux modifier** pour l‚Äôadapter √† ton site :

---

## üîß Param√®tres personnalisables

### üéûÔ∏è **D√©filement automatique**

| Param√®tre     | O√π il se trouve                                  | Effet                                                                                     | Valeur par d√©faut |
| ------------- | ------------------------------------------------ | ----------------------------------------------------------------------------------------- | ----------------- |
| `pxPerSecond` | Dans le JS, ligne :<br>`const pxPerSecond = 80;` | Contr√¥le la vitesse du d√©filement **continu** (px par seconde). Plus grand = plus rapide. | `80`              |
| `pxPerMs`     | Calcul automatique : `pxPerSecond / 1000`        | Ne change pas directement, d√©riv√© de `pxPerSecond`.                                       | ‚Äî                 |

üí° **Exemple :**

* `pxPerSecond = 40` ‚Üí d√©filement 2x plus lent
* `pxPerSecond = 120` ‚Üí d√©filement 1.5x plus rapide

---

### ‚è∏Ô∏è **Pause / Reprise**

| √âl√©ment                     | Personnalisable ? | Effet                                                                                                                                          |
| --------------------------- | ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| `pauseReasons.hoverWindow`  | (JS)              | Active/d√©sactive pause quand on survole la bande. Tu peux le d√©sactiver en supprimant les listeners `mouseenter` / `mouseleave` de `windowEl`. |
| `pauseReasons.hoverButtons` | (JS)              | Pause au survol des boutons Prev/Next. Tu peux supprimer si tu veux que l‚Äôanimation continue m√™me quand la souris est sur les fl√®ches.         |
| `pauseReasons.manual`       | (JS)              | Pause automatique apr√®s clic sur Prev/Next (emp√™che la bande de repartir pendant le scroll manuel). Tu peux ajuster la dur√©e du `setTimeout`.  |

---

### üñºÔ∏è **Images**

| Param√®tre                    | O√π le modifier                               | Effet                                                                  |         |
| ---------------------------- | -------------------------------------------- | ---------------------------------------------------------------------- | ------- |
| **Liste des `<img>`**        | Dans le HTML (`<div id="marquee">...</div>`) | Ajoute/supprime des images facilement.                                 |         |
| `--img-width` (CSS variable) | Dans `:root`                                 | Largeur de chaque image (toutes les images s‚Äôadaptent √† cette valeur). | `300px` |
| `--gap` (CSS variable)       | Dans `:root`                                 | Espace horizontal entre deux images (somme des deux marges).           | `16px`  |
| `border-radius`              | Dans `.marquee img` (CSS)                    | Coins arrondis des images.                                             | `10px`  |

---

### üéõÔ∏è **Boutons de navigation**

| Param√®tre               | O√π le modifier               | Effet                                                                    |
| ----------------------- | ---------------------------- | ------------------------------------------------------------------------ |
| `.control` (CSS)        | Couleur, taille, position    | Change l'apparence globale (fond, taille, bordures, radius).             |
| `.prev` / `.next` (CSS) | `left: 8px;` / `right: 8px;` | Ajuste la position horizontale des fl√®ches.                              |
| Ic√¥nes `<svg>`          | Dans le HTML                 | Tu peux remplacer les SVG par tes propres ic√¥nes (ex. ic√¥nes Bootstrap). |

---

### üñ±Ô∏è **Scroll manuel (clic fl√®ches)**

| Param√®tre                                   | O√π il se trouve | Effet                                                                                                                 |
| ------------------------------------------- | --------------- | --------------------------------------------------------------------------------------------------------------------- |
| `computeStep()`                             | JS              | Calcule la largeur d‚Äôune image + marge pour d√©filer d‚Äôun "pas". Tu peux forcer une valeur fixe si tu veux.            |
| `windowEl.scrollTo({ behavior: 'smooth' })` | JS              | Active le scroll doux. Tu peux le remplacer par un scroll instantan√© en retirant `behavior: 'smooth'`.                |
| `resumeTimer = setTimeout(..., 520)`        | JS              | Temps avant que le d√©filement automatique reprenne apr√®s un clic. Ajuste si tu veux un d√©lai plus court ou plus long. |

---

### üé® **Styles et effets visuels**

| √âl√©ment                          | O√π le modifier                                            | Effet                                    |
| -------------------------------- | --------------------------------------------------------- | ---------------------------------------- |
| `.window.paused img:hover` (CSS) | Ajoute ou enl√®ve le `transform: scale()` et `box-shadow`. | Animation de zoom sur l‚Äôimage au survol. |
| `.window` (CSS)                  | Peut avoir un fond ou bordure si tu veux un cadre.        | Cadre autour de la bande.                |
| `h2`                             | Dans le HTML                                              | Titre du slider (facultatif).            |

---

### üîÅ **Boucle infinie**

La duplication des images est faite automatiquement dans ce code :

```js
marquee.innerHTML = marquee.innerHTML + marquee.innerHTML;
```

‚ö†Ô∏è Si tu modifies la liste d‚Äôimages, **la duplication restera automatique** ‚Äî pas besoin d‚Äôajouter les doublons manuellement.

---

## üí° Conseils pour int√©gration

* Tu peux **mettre plusieurs sliders sur la m√™me page** : il suffit de dupliquer le bloc HTML et de donner un `id` diff√©rent √† chaque `window` et `marquee`, puis r√©utiliser le JS dans une fonction r√©utilisable.
* Tu peux inclure ce slider dans **Bootstrap 5** sans probl√®me : il suffit d‚Äôajouter les classes utilitaires de Bootstrap sur `.slider-wrapper` pour g√©rer les marges/paddings (par ex. `mb-5`).
* Tu peux m√™me remplacer les fl√®ches par les **ic√¥nes Bootstrap** (`bi-chevron-left` et `bi-chevron-right`).

 -->